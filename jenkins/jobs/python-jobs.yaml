# Note: elements of this file were taken from the python-jobs.yaml
# file of the OpenStack project-config project.
#

- job-template:
    name: '{name}-python-coverage'

    wrappers:
        - timeout:
            timeout: 60
            timeout-var: 'BUILD_TIMEOUT'
            fail: true
        - timestamps

    builders:
        - node-git-prep
        - gerrit-git-prep
        - python-coverage

    node: '{node}'

- job-template:
    name: check-{name}-pep8

    builders:
        - node-git-prep
        - gerrit-git-prep
        - pep8:
            python_dir: './{name}/'
            pep8_output: './{name}-pep8.txt'

    publishers:
        - publish-pep8-results:
            pep8_output: '{name}-pep8.txt'

    node: '{node}'

- job-group:
    name: python-jobs
    jobs:
        - '{name}-coverage'
        - 'check-{name}-pep8'

